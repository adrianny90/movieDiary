function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=globalThis,n={},r={},o=t.parcelRequire8370;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire8370=o);var a=o.register;async function l(e){let t=`https://api.themoviedb.org/3/search/movie?query=${e}&include_adult=false&language=en-US&page=1`;try{let e=await fetch(t,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNGFhYTE1YTA2NWU4M2U5NDY0NTc2OGVmMWIxNGNiZiIsIm5iZiI6MTc0MTY5NzkwNC43OTQsInN1YiI6IjY3ZDAzMzcwNDM0Yzk4YzhlYzgxMmNkOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9jO5nJYwBckvjhRbSr6ilEeVYI6H7mkm5WKE-BNQSFU"}});if(!e.ok)throw Error("Error");return await e.json()}catch(e){console.error(e)}}a("eNr1U",function(t,n){e(t.exports,"renderProducts",()=>a);var r=o("6g3qm");let a=(e,t,n)=>{if(!e||!t)return;let o=document.createElement("div");o.className="bg-[#6EACDA] rounded-lg shadow-2xl overflow-hidden relative w-full mb-4";let a=document.createElement("button");a.className="absolute top-2 right-4 text-white text-2xl",n?a.innerHTML="❤️":a.innerHTML="\uD83E\uDD0D",a.addEventListener("click",()=>{a.innerHTML="❤️"===a.innerHTML?"\uD83E\uDD0D":"❤️",(0,r.storeMovies)(e)});let l=document.createElement("img");l.className="w-full h-48 object-cover rounded-md",l.src=e.image,l.alt=e.title;let i=document.createElement("p");i.className="text-sm flex items-center mt-2 p-1",i.innerHTML=`
    \u{1F4C5} <span class="ml-2">${e.year||"Unknown"}</span>
    <span class="ml-auto">\u{2B50} ${e.rating||"N/A"}</span>
  `;let s=document.createElement("h2");s.className="font-bold text-lg mt-2 p-4",s.textContent=e.title;let c=document.createElement("p");c.className="text-sm opacity-75 mt-1 p-4",c.textContent=e.description?.substring(0,100)+"...",o.appendChild(a),o.appendChild(l),o.appendChild(i),o.appendChild(s),o.appendChild(c),t.appendChild(o)}}),a("6g3qm",function(t,n){e(t.exports,"storeMovies",()=>r),e(t.exports,"retrieveMovies",()=>o),e(t.exports,"checkStatus",()=>a);let r=e=>{let t=JSON.parse(localStorage.getItem("movies"))||[],n=!1,r=0,o=0;if(t.length>0&&t.forEach(t=>{t.title===e.title&&(n=!0,r=o),o++}),n)t=t.filter(e=>e!==t[r]),localStorage.setItem("movies",JSON.stringify(t));else{let n=[...t,e];localStorage.setItem("movies",JSON.stringify(n))}},o=()=>JSON.parse(localStorage.getItem("movies"))||[],a=e=>{let t=JSON.parse(localStorage.getItem("movies"))||[],n=!1;return t.length>0&&t.forEach(t=>{t.title===e.title&&(n=!0)}),n}});var i=o("eNr1U");async function s(){try{let e=await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZWQxMGVjZWU0ODcxNTBhMDUwMDAwM2Q5YmZlNmE5NCIsIm5iZiI6MTc0MTY4MzE3MS40NDMsInN1YiI6IjY3Y2ZmOWUzNmVjZWM1ZjM5YTgxMWNkMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ap9QK8ZdTMfLM7lihBfTdN7G3SxvRbkaBhGLNCCHcaM","Content-Type":"application/json"}});if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);let t=await e.json();return console.log(t.results),t.results.map(e=>({id:e.id,title:e.title,image:`https://image.tmdb.org/t/p/w500${e.poster_path}`,year:e.release_date||"Unknown",rating:e.vote_average||"N/A",description:e.overview||"No description available."}))}catch(e){console.error("Error fetching movies:",e);return}}var c=o("6g3qm");const d=document.getElementById("searchField"),m=document.getElementById("searchBtn"),u=document.getElementById("searchCloseBtn"),p=document.getElementById("resultList"),h=document.getElementById("searchResults");h.style.display="none";const g=e=>{if(p.innerHTML="",h.style.display="block",e.length<1){let e=document.createElement("li");e.textContent="No movies found. Please try other keywords.",p.appendChild(e);return}e.forEach(async e=>{let t=await function(e){let t=document.createElement("li"),n=document.createElement("div"),r=document.createElement("span");e.title.length>25?r.textContent=e.title.substring(0,25)+"...":r.textContent=e.title;let o=document.createElement("img");e.poster_path?o.src="https://image.tmdb.org/t/p/original"+e.poster_path:o.src="./img/placeholder.png";let a=document.createElement("span");a.textContent="★ "+Math.round(e.vote_average);let l=document.createElement("hr");return n.classList.add("flex","justify-start","gap-7","items-center"),o.classList.add("w-[10%]"),r.classList.add("text-left"),a.classList.add("ml-auto"),n.appendChild(o),n.appendChild(r),n.appendChild(a),t.appendChild(n),t.appendChild(l),t}(e);p.appendChild(t)}),setTimeout(()=>{let e=p.querySelector("li");console.log(e),e&&e.scrollIntoView({behavior:"smooth",block:"center"})},1)};m.addEventListener("click",async()=>{g((await l(d.value)).results)}),u.addEventListener("click",()=>{h.style.display="none",p.innerHTML="",d.value=""}),document.addEventListener("DOMContentLoaded",async function(){let e=document.getElementById("products-container");if(!e){console.error("Error: products-container not found.");return}try{let t=await s();if(!t||0===t.length){console.error("No movies found.");return}console.log("Fetched movies:",t),t.forEach(t=>{let n=(0,c.checkStatus)(t),r=!1;n&&(r=!0),(0,i.renderProducts)(t,e,r)})}catch(e){console.error("Error fetching movies:",e)}});
//# sourceMappingURL=movieDiary.297a0450.js.map
